"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[917],{2917:(t,e,r)=>{r.r(e),r.d(e,{default:()=>n});var a=r(381),s=r.n(a);function o(t,e,r,a,s,o,i,n){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=r,c._compiled=!0),a&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):s&&(l=n?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}var i=o({data:function(){return{currentPage:1,perPage:5,fields:["#",{key:"programTime"},{key:"event"},"message","actualTime"],filter:null,filterOn:[],reports:[]}},computed:{rows:function(){return this.reports.length}},methods:{onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getReports:function(){var t=this;axios.get("/api/tasks").then((function(e){var r=e.data;t.reports=r.data,t.totalRows=t.reports.length})).catch((function(t){console.log(error)}))},doSomething:function(){alert("qweqw")}},mounted:function(){this.getReports()}},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"card "},[r("div",{staticClass:"card-header bg-dark text-white"},[r("div",{staticClass:"row"},[t._m(0),t._v(" "),r("div",{staticClass:"col-md-4"}),t._v(" "),r("div",{staticClass:"col-md-3"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.getReports}},[t._v("Generate Reports")])])])]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_length",attrs:{id:"DataTables_Table_1_length"}},[r("label",[t._v("\n                                        Show\n                                        "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"custom-select custom-select-sm form-control form-control-sm",attrs:{name:"DataTables_Table_1_length","aria-controls":"DataTables_Table_1"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),r("option",{attrs:{value:"8"}},[t._v("8")]),t._v(" "),r("option",{attrs:{value:"15"}},[t._v("15")]),t._v(" "),r("option",{attrs:{value:"20"}},[t._v("20")])]),t._v("\n                                        entries\n                                    ")])])]),t._v(" "),r("div",{staticClass:"col-sm-12 col-md-6"},[r("div",{staticClass:"dataTables_filter",attrs:{id:"DataTables_Table_1_filter"}},[r("label",[t._v("Search:"),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control form-control-sm",attrs:{type:"search",placeholder:"","aria-controls":"DataTables_Table_1"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])])])]),t._v(" "),r("b-table",{attrs:{responsive:"",striped:"",hover:"","show-empty":"",small:"small",items:t.reports,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter,filterIncludedFields:t.filterOn},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(#)",fn:function(e){return[r("p",[t._v(t._s(e.index+1))])]}}])})],1),t._v(" "),r("div",{staticClass:"card-footer "},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-7"}),t._v(" "),r("div",{staticClass:"col-md-5"},[r("b-pagination",{staticStyle:{float:"left"},attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-5"},[r("h4",[t._v(" Task Reports")])])}],!1,null,null,null);const n=o({components:{reports:i.exports},data:function(){return{ctx:"",radius:"",second:0,minute:0,hour:12,servers:0,form:new Form({programTime:"",event:"",message:"",actualTime:s()().format("HH:mm:ss A"),wallColour:"#000000",clockFaceColour:"#ffffff",hourLabelsColour:"#000000"})}},methods:{createClock:function(){var t=document.getElementById("canvas"),e=t.getContext("2d");this.ctx=t.getContext("2d");var r=t.height/3;this.radius=t.height/3,e.translate(r,r),r*=.9,this.getProgramTime()},drawFace:function(t,e){var r;t.beginPath(),t.arc(0,0,e,0,2*Math.PI),t.fillStyle=this.form.clockFaceColour,t.fill(),(r=t.createRadialGradient(0,0,.95*e,0,0,1.05*e)).addColorStop(0,"#333"),r.addColorStop(.5,"white"),r.addColorStop(1,"#333"),t.strokeStyle=r,t.lineWidth=.1*e,t.stroke(),t.beginPath(),t.arc(0,0,.1*e,0,2*Math.PI),t.fillStyle=this.form.hourLabelsColour,t.fill()},drawNumbers:function(t,e){var r,a;for(t.font=.15*e+"px arial",t.textBaseline="middle",t.textAlign="center",a=1;a<13;a++)r=a*Math.PI/6,t.rotate(r),t.translate(0,.85*-e),t.rotate(-r),t.fillText(a.toString(),0,0),t.rotate(r),t.translate(0,.85*e),t.rotate(-r)},drawTime:function(t,e){var r=this.hour,a=this.minute,s=this.second;r=(r%=12)*Math.PI/6+a*Math.PI/360+s*Math.PI/21600,this.drawHand(t,r,.5*e,.07*e),a=a*Math.PI/30+s*Math.PI/1800,this.drawHand(t,a,.8*e,.07*e),s=s*Math.PI/30,this.drawHand(t,s,.9*e,.02*e)},drawHand:function(t,e,r,a){t.beginPath(),t.lineWidth=a,t.lineCap="round",t.moveTo(0,0),t.rotate(e),t.lineTo(0,-r),t.stroke(),t.rotate(-e)},startServers:function(){var t=Math.floor(11*Math.random())+10;this.servers=this.servers+t,this.getActualTime(),this.form.event="START",this.form.message="Start "+t+" servers",this.addTask("success")},stopServers:function(){var t=Math.floor(Math.random()*(this.servers-5+1))+5;this.servers=this.servers-t,this.getActualTime(),this.form.event="STOP",this.form.message="Stop "+t+" servers",this.addTask("warning"),console.log("stop servers "+t),console.log("total servers "+this.servers)},reportServers:function(){console.log("total servers ni hizi "+this.servers),this.getActualTime(),this.form.event="REPORT",this.form.message="Report "+this.servers+" servers running",this.addTask("info")},getActualTime:function(){this.form.actualTime=s()().format("hh:mm:ss A")},addTask:function(t){var e=this;toast.fire({icon:t,title:this.form.programTime+" - "+this.form.message}),this.form.post("/api/tasks").then((function(t){var r=t.data;e.form.wallColour=r.color.wallColour,e.form.clockFaceColour=r.color.clockFaceColour,e.form.hourLabelsColour=r.color.hourLabelsColour,console.log(r.color.clockFaceColour+"   "+r.color.hourLabelsColour)})).catch((function(t){console.log(t)}))},getProgramTime:function(){var t=new Date,e=this,r=30,a=40,s=50;setInterval((function(){var o=new Date(2011,0,1,12,0,0,567),i=new Date-t;o.setMilliseconds(o.getMilliseconds()+i),e.second=o.getSeconds(),e.minute=o.getMinutes(),e.hour=o.getHours(),e.form.programTime=e.hour+":"+e.minute+":"+e.second,e.drawFace(e.ctx,e.radius),e.drawNumbers(e.ctx,e.radius),e.drawTime(e.ctx,e.radius),1==r?(r=30,e.startServers()):r--,1==a?(a=40,e.stopServers()):a--,1==s?(s=50,e.reportServers()):s--}),1e3)}},mounted:function(){this.createClock()}},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-3"},[r("canvas",{style:{"background-color":t.form.wallColour},attrs:{id:"canvas",width:"400",height:"400"}})]),t._v(" "),r("div",{staticClass:"col-md-1"}),t._v(" "),r("div",{staticClass:"col-md-8"},[r("reports",{ref:"reportsComponent"})],1)])])}),[],!1,null,null,null).exports}}]);